<!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">


      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
    <style>
      #myImg {
          border-radius: 5px;
          cursor: pointer;
          transition: 0.3s;
      }
      
      #myImg:hover {opacity: 0.7;}
      
      /* The Modal (background) */
      .modal {
          display: none; /* Hidden by default */
          position: fixed; /* Stay in place */
          z-index: 1; /* Sit on top */
          padding-top: 100px; /* Location of the box */
          left: 0;
          top: 0;
          width: 100%; /* Full width */
          height: 100%; /* Full height */
          overflow: auto; /* Enable scroll if needed */
          background-color: rgb(0,0,0); /* Fallback color */
          background-color: rgba(0,0,0,0.9); /* Black w/ opacity */
      }
      
      /* Modal Content (image) */
      .modal-content {
          margin: auto;
          display: block;
          width: 80%;
          max-width: 700px;
      }
      
      /* Caption of Modal Image */
      #caption {
          margin: auto;
          display: block;
          width: 80%;
          max-width: 700px;
          text-align: center;
          color: #ccc;
          padding: 10px 0;
          height: 150px;
      }
      
      /* Add Animation */
      .modal-content, #caption {    
          -webkit-animation-name: zoom;
          -webkit-animation-duration: 0.6s;
          animation-name: zoom;
          animation-duration: 0.6s;
      }
      
      @-webkit-keyframes zoom {
          from {-webkit-transform:scale(0)} 
          to {-webkit-transform:scale(1)}
      }
      
      @keyframes zoom {
          from {transform:scale(0)} 
          to {transform:scale(1)}
      }
      
      /* The Close Button */
      .close {
          position: absolute;
          top: 15px;
          right: 35px;
          color: #f1f1f1;
          font-size: 40px;
          font-weight: bold;
          transition: 0.3s;
      }
      
      .close:hover,
      .close:focus {
          color: #bbb;
          text-decoration: none;
          cursor: pointer;
      }
      
      /* 100% Image Width on Smaller Screens */
      @media only screen and (max-width: 700px){
          .modal-content {
              width: 100%;
          }
      }
      </style>
    <body>
        <center>
        <div class="datepicker-container"  style="width: 200px" >
        <form action="/voo" method="post">
        <input type="text" class="datepicker" name="date">
        <input type="submit" class="waves-effect waves-light btn">
        </form>
        </div>
        </center>

            <table border = 1 class="striped">
                    <thead>
                       <td>job id</td>
                       <td>job code</td>
                       <td>qty</td>
                       <td>is completed?</td>
                       <td>owner id</td>
                       <td>truckid</td>
                       <td>proof picture</td>
                       <td>signature picture</td>
                       <td>verify image</td>
                       <td>retake request</td>
                    </thead>
                    
                    {% for row in data %}
                       <tr>
                          <td>{{row['job_id']}}</td>
                          <td>{{row['job_code']}}</td>
                          <td>{{row['qty']}}</td>
                          <td>{{row['is_completed']}}</td>
                          <td>{{row['owner_id']}}</td>
                          <td>{{row['truck_id']}}</td>
                          <td>
                            <img id="myImg" src="{{row['proof_picture']}}" alt="proof picture" width="300" height="200"> 
                            <div id="myModal" class="modal">
                                <span class="close">&times;</span>
                                <img class="modal-content" id="img01">
                                <div id="caption"></div>
                              </div>
                          </td>
                          <td><img id="myImg" src="{{row['signature_picture']}}" alt="signature picture"></td>
                          <td><form action="/voo" method="post"></form><input type="submit" class="waves-effect waves-light btn" value="verify"></td></form>
                          <td><input type="submit" class="waves-effect waves-light btn" value="retake"></td>
                          
                       </tr>
                    {% endfor %}
                 </table>
      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
      <script text="text/javascript">
        $( document ).ready(function() {
          $('.datepicker').pickadate({
                  selectMonths: true, // Creates a dropdown to control month
                  selectYears: 15, // Creates a dropdown of 15 years to control year,
                  format: 'yyyy-mm-dd',
                  closeOnSelect: false // Close upon selecting a date,
              });
        });
        
     </script>
     <script>
      // Get the modal
      var modal = document.getElementById('myModal');
      
      // Get the image and insert it inside the modal - use its "alt" text as a caption
      var img = document.getElementById('myImg');
      var modalImg = document.getElementById("img01");
      var captionText = document.getElementById("caption");
      img.onclick = function(){
          modal.style.display = "block";
          modalImg.src = this.src;
          captionText.innerHTML = this.alt;
      }
      
      // Get the <span> element that closes the modal
      var span = document.getElementsByClassName("close")[0];
      
      // When the user clicks on <span> (x), close the modal
      span.onclick = function() { 
          modal.style.display = "none";
      }
      </script>
    </body>
  </html>
        